<VirtualHost *:80>
    Define server_name sf-pokedex.local
    Define basedocroot /home/wwwroot/sf-pokedex
    Define docrootweb ${basedocroot}/public
    Define logdir /var/log/apache2/
    
    <FilesMatch .php$>
    SetHandler "proxy:fcgi://sf-pokedex-php:9000"
    </FilesMatch>

    ServerName ${server_name}
    DocumentRoot ${docrootweb}
    ErrorLog ${logdir}/error.log
    CustomLog ${logdir}/access.log Combined

    RewriteEngine On
    RewriteCond %{HTTP:Authorization} ^(.*)
    RewriteRule .* - [e=HTTP_AUTHORIZATION:%1]

    <Directory ${docrootweb}>
        AllowOverride All
        Require all granted
    </Directory>

    <Directory ${basedocroot}/var>
        <IfModule mod_authz_core.c>
            Require all denied
        </IfModule>
        <IfModule !mod_authz_core.c>
            Order deny,allow
            Deny from all
        </IfModule>
    </Directory>

    <Directory ${docrootweb}>
        DirectoryIndex ${docrootweb}/index.php
        <IfModule mod_negotiation.c>
            Options -MultiViews
        </IfModule>

        <IfModule mod_rewrite
